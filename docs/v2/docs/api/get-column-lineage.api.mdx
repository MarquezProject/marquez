---
id: get-column-lineage
title: "Get a column lineage graph"
description: "Get a column lineage graph"
sidebar_label: "Get a column lineage graph"
hide_title: true
hide_table_of_contents: true
api: {"operationId":"getColumnLineage","parameters":[{"name":"nodeId","in":"query","schema":{"type":"string","example":"dataset:food_delivery:public.delivery_7_days"},"description":"The ID of the node. A node can either be a dataset node, a dataset field node or a job node. The format of nodeId for dataset is `dataset:<namespace_of_dataset>:<name_of_the_dataset>`, for dataset field is `datasetField:<namespace_of_dataset>:<name_of_the_dataset>:<name_of_field>`, and for job is `job:<namespace_of_the_job>:<name_of_the_job>`.","required":true},{"name":"depth","in":"query","schema":{"type":"integer","default":20},"description":"Depth of lineage graph to create.","required":false},{"name":"withDownstream","in":"query","schema":{"type":"boolean","default":false},"description":"Determines if downstream lineage should be returned.","required":false}],"tags":["Column lineage"],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"graph":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"The ID of the node."},"type":{"type":"string","enum":["JOB","DATASET"],"description":"The type of the diff node.","title":"NodeType"},"data":{"type":"object","description":"The data of the node.","discriminator":{"propertyName":"type","mapping":{"DATASET":{"type":"object","properties":{"id":{"type":"object","description":"The ID of the dataset.","properties":{"namespace":{"type":"string","description":"The namespace of the dataset."},"name":{"type":"string","description":"The name of the dataset."}},"title":"DatasetId"},"type":{"description":"The type of the dataset.","type":"string"},"name":{"description":"The **logical** name of the dataset.","type":"string"},"physicalName":{"description":"The **physical** name of the dataset.","type":"string"},"createdAt":{"description":"An [ISO-8601](https://en.wikipedia.org/wiki/ISO_8601) timestamp representing the date/time the dataset was created.","type":"string","format":"date-time"},"updatedAt":{"description":"An [ISO-8601](https://en.wikipedia.org/wiki/ISO_8601) timestamp representing the date/time the dataset was updated.","type":"string","format":"date-time"},"namespace":{"type":"string","description":"The namespace of the dataset."},"sourceName":{"description":"The name of the source associated with the dataset.","type":"string"},"fields":{"description":"The fields of the dataset.","type":"array","items":{"type":"object","properties":{"name":{"description":"The name of the field.","type":"string"},"type":{"description":"The data type of the field.","type":"string"},"tags":{"description":"List of tags.","type":"array","items":{"type":"string"}},"description":{"description":"The description of the field.","type":"string"}},"required":["name","type"]}},"tags":{"description":"List of tags.","type":"array","items":{"type":"string"}},"lastModifiedAt":{"description":"An [ISO-8601](https://en.wikipedia.org/wiki/ISO_8601) timestamp representing the date/time the dataset was last modified by a successful run.","type":"string","format":"date-time"},"lastLifecycleState":{"description":"The last lifecycle state of the dataset.","type":"string"},"description":{"description":"The description of the dataset.","type":"string"},"facets":{"description":"The facets of the dataset. For a full list of standard dataset facets, see [OpenLineage](https://github.com/OpenLineage/OpenLineage/blob/main/spec/OpenLineage.md#standard-facets).","type":"object","additionalProperties":{"description":"A custom facet enables the extension of _dataset_, _job_, and _run_ metadata. A custom facet **must** also have a schema, where a version of the schema is identifiable via a URL. A field within the schema **must** not start with an underscore (`_`).","allOf":[{"description":"All base facet fields are prefixed with an underscore (`_`) to avoid field naming conflicts defined with other facets.","type":"object","properties":{"_producer":{"description":"URI identifying the producer of this metadata. For example this could be a git url with a given tag or sha","type":"string","format":"uri","example":"https://github.com/OpenLineage/OpenLineage/blob/v1-0-0/client"},"_schemaURL":{"description":"The URL to the corresponding version of the schema definition following a $ref URL Reference (see https://swagger.io/docs/specification/using-ref/)","type":"string","format":"uri","example":"https://github.com/OpenLineage/OpenLineage/blob/v1-0-0/spec/OpenLineage.yml#MyCustomJobFacet"}},"required":["_producer","_schemaURL"],"title":"BaseFacet"},{"type":"object","additionalProperties":true}],"title":"CustomFacet"},"title":"DatasetFacets"},"currentVersion":{"description":"The current version of the dataset.","type":"string","format":"uuid"},"deleted":{"description":"The deleted state of the dataset.","type":"boolean"}},"example":{"id":{"namespace":"my-namespace","name":"my-dataset"},"type":"DB_TABLE","name":"my-dataset","physicalName":"public.mytable","createdAt":"2019-05-09T19:49:24.201361Z","upodatedAt":"2019-05-09T19:49:24.201361Z","namespace":"my-namespace","sourceName":"my-source","fields":[{"name'":"a","type":"INTEGER","tags":[]},{"name'":"b","type":"TIMESTAMP","tags":[]},{"name'":"c","type":"INTEGER","tags":[]},{"name'":"d","type":"INTEGER","tags":[]}],"tags":[],"lastModifiedAt":null,"description":"My first dataset!","facets":{},"currentVersion":"b1d626a2-6d3a-475e-9ecf-943176d4a8c6"},"title":"Dataset"},"JOB":{"type":"object","properties":{"id":{"description":"The ID of the job.","type":"object","properties":{"namespace":{"type":"string","description":"The namespace of the job."},"name":{"type":"string","description":"The name of the job."}},"title":"JobId"},"type":{"description":"The type of the job.","type":"string"},"name":{"description":"The name of the job.","type":"string"},"createdAt":{"description":"An [ISO-8601](https://en.wikipedia.org/wiki/ISO_8601) timestamp representing the date/time the job was created.","type":"string","format":"date-time"},"updatedAt":{"description":"An [ISO-8601](https://en.wikipedia.org/wiki/ISO_8601) timestamp representing the date/time the job was updated.","type":"string","format":"date-time"},"namespace":{"description":"The namespace of the job.","type":"string"},"inputs":{"description":"The set of **input** datasets.","type":"array","items":{"type":"object","description":"The ID of the dataset.","properties":{"namespace":{"type":"string","description":"The namespace of the dataset."},"name":{"type":"string","description":"The name of the dataset."}},"title":"DatasetId"},"uniqueItems":true},"outputs":{"description":"The set of **output** datasets.","type":"array","items":{"type":"object","description":"The ID of the dataset.","properties":{"namespace":{"type":"string","description":"The namespace of the dataset."},"name":{"type":"string","description":"The name of the dataset."}},"title":"DatasetId"},"uniqueItems":true},"location":{"description":"The URL of the job source code or artifact.","type":"string","format":"URL"},"context":{"description":"A key/value pair that must be of type `string`. A context can be used for getting additional details about the job.","type":"object","deprecated":true},"description":{"description":"The description of the job.","type":"string"},"latestRun":{"type":"object","anyOf":[{"type":"object","properties":{"id":{"description":"The ID of the run.","type":"string","format":"uuid"},"createdAt":{"description":"An [ISO-8601](https://en.wikipedia.org/wiki/ISO_8601) timestamp representing the date/time the run was created.","type":"string","format":"date-time"},"updatedAt":{"description":"An [ISO-8601](https://en.wikipedia.org/wiki/ISO_8601) timestamp representing the date/time the run was updated.","type":"string","format":"date-time"},"nominalStartTime":{"description":"An [ISO-8601](https://en.wikipedia.org/wiki/ISO_8601) timestamp representing the nominal start time of the run.","type":"string","format":"date-time"},"nominalEndTime":{"description":"An [ISO-8601](https://en.wikipedia.org/wiki/ISO_8601) timestamp representing the nominal end time of the run.","type":"string","format":"date-time"},"state":{"description":"The current state of the run.","type":"string","enum":["NEW","RUNNING","COMPLETED","FAILED","ABORTED"]},"startedAt":{"description":"An [ISO-8601](https://en.wikipedia.org/wiki/ISO_8601) timestamp representing the start time of the run.","type":"string","format":"date-time"},"endedAt":{"description":"An [ISO-8601](https://en.wikipedia.org/wiki/ISO_8601) timestamp representing the end time of the run.","type":"string","format":"date-time"},"durationMs":{"type":"integer","description":"The total duration of the run. Measured in milliseconds."},"args":{"description":"The arguments of the run.","type":"object"},"facets":{"description":"The facets of the run. For a full list of standard run facets, see [OpenLineage](https://github.com/OpenLineage/OpenLineage/blob/main/spec/OpenLineage.md#standard-facets).","type":"object","additionalProperties":{"description":"A custom facet enables the extension of _dataset_, _job_, and _run_ metadata. A custom facet **must** also have a schema, where a version of the schema is identifiable via a URL. A field within the schema **must** not start with an underscore (`_`).","allOf":[{"description":"All base facet fields are prefixed with an underscore (`_`) to avoid field naming conflicts defined with other facets.","type":"object","properties":{"_producer":{"description":"URI identifying the producer of this metadata. For example this could be a git url with a given tag or sha","type":"string","format":"uri","example":"https://github.com/OpenLineage/OpenLineage/blob/v1-0-0/client"},"_schemaURL":{"description":"The URL to the corresponding version of the schema definition following a $ref URL Reference (see https://swagger.io/docs/specification/using-ref/)","type":"string","format":"uri","example":"https://github.com/OpenLineage/OpenLineage/blob/v1-0-0/spec/OpenLineage.yml#MyCustomJobFacet"}},"required":["_producer","_schemaURL"],"title":"BaseFacet"},{"type":"object","additionalProperties":true}],"title":"CustomFacet"},"title":"RunFacets"}},"example":{"id":"870492da-ecfb-4be0-91b9-9a89ddd3db90","createdAt":"2019-05-09T19:49:24.201361Z","updatedAt":"2019-05-09T19:49:24.201361Z","nominalStartTime":null,"nominalEndTime":null,"state":"RUNNING","startedAt":"2019-05-09T15:17:32.690346","endedAt":null,"durationMs":null,"args":{"email":"me@example.com","emailOnFailure":"false","emailOnRetry":"true","retries":"1"},"facets":{}},"title":"IncompleteRun"},{"type":"object","properties":{"jobVersion":{"type":"object","properties":{"namespace":{"type":"string","description":"The namespace of the job."},"name":{"type":"string","description":"The name of the job."},"version":{"type":"string","format":"uuid","description":"The version of the job."}},"title":"JobVersionId"},"inputDatasetVersions":{"type":"array","items":{"type":"object","properties":{"datasetVersionId":{"type":"object","properties":{"namespace":{"type":"string","description":"The namespace of the dataset."},"name":{"type":"string","description":"The name of the dataset."},"version":{"type":"string","format":"uuid","description":"The version of the dataset."}},"required":["namespace","name","version"],"title":"DatasetVersionId"},"facets":{"type":"object","additionalProperties":{"type":"string"},"description":"Dataset facets in run context, like `inputFacets`."}},"required":["datasetVersionId","facets"],"title":"InputDatasetVersion"}},"outputDatasetVersions":{"type":"array","items":{"type":"object","properties":{"datasetVersionId":{"type":"object","properties":{"namespace":{"type":"string","description":"The namespace of the dataset."},"name":{"type":"string","description":"The name of the dataset."},"version":{"type":"string","format":"uuid","description":"The version of the dataset."}},"required":["namespace","name","version"],"title":"DatasetVersionId"},"facets":{"type":"object","additionalProperties":{"type":"string"},"description":"Dataset facets in run context, like `outputFacets`."}},"required":["datasetVersionId","facets"],"title":"OutputDatasetVersion"}},"context":{"description":"A key/value pair that must be of type `string`. A context can be used for getting additional details about the job.","type":"object","deprecated":true},"facets":{"description":"The facets of the run. For a full list of standard run facets, see [OpenLineage](https://github.com/OpenLineage/OpenLineage/blob/main/spec/OpenLineage.md#standard-facets).","type":"object","additionalProperties":{"description":"A custom facet enables the extension of _dataset_, _job_, and _run_ metadata. A custom facet **must** also have a schema, where a version of the schema is identifiable via a URL. A field within the schema **must** not start with an underscore (`_`).","allOf":[{"description":"All base facet fields are prefixed with an underscore (`_`) to avoid field naming conflicts defined with other facets.","type":"object","properties":{"_producer":{"description":"URI identifying the producer of this metadata. For example this could be a git url with a given tag or sha","type":"string","format":"uri","example":"https://github.com/OpenLineage/OpenLineage/blob/v1-0-0/client"},"_schemaURL":{"description":"The URL to the corresponding version of the schema definition following a $ref URL Reference (see https://swagger.io/docs/specification/using-ref/)","type":"string","format":"uri","example":"https://github.com/OpenLineage/OpenLineage/blob/v1-0-0/spec/OpenLineage.yml#MyCustomJobFacet"}},"required":["_producer","_schemaURL"],"title":"BaseFacet"},{"type":"object","additionalProperties":true}],"title":"CustomFacet"},"title":"RunFacets"}}}],"example":{"id":"870492da-ecfb-4be0-91b9-9a89ddd3db90","createdAt":"2019-05-09T19:49:24.201361Z","updatedAt":"2019-05-09T19:49:24.201361Z","nominalStartTime":null,"nominalEndTime":null,"state":"COMPLETED","startedAt":"2019-05-09T15:17:32.690346","endedAt":"2019-05-09T20:05:46.815920Z","durationMs":4250894125,"args":{"email":"me@example.com","emailOnFailure":"false","emailOnRetry":"true","retries":"1"},"context":{"SQL":"SELECT * FROM mytable;"},"facets":{}},"title":"Run"},"facets":{"description":"The facets of the job. For a full list of standard job facets, see [OpenLineage](https://github.com/OpenLineage/OpenLineage/blob/main/spec/OpenLineage.md#standard-facets).","type":"object","additionalProperties":{"description":"A custom facet enables the extension of _dataset_, _job_, and _run_ metadata. A custom facet **must** also have a schema, where a version of the schema is identifiable via a URL. A field within the schema **must** not start with an underscore (`_`).","allOf":[{"description":"All base facet fields are prefixed with an underscore (`_`) to avoid field naming conflicts defined with other facets.","type":"object","properties":{"_producer":{"description":"URI identifying the producer of this metadata. For example this could be a git url with a given tag or sha","type":"string","format":"uri","example":"https://github.com/OpenLineage/OpenLineage/blob/v1-0-0/client"},"_schemaURL":{"description":"The URL to the corresponding version of the schema definition following a $ref URL Reference (see https://swagger.io/docs/specification/using-ref/)","type":"string","format":"uri","example":"https://github.com/OpenLineage/OpenLineage/blob/v1-0-0/spec/OpenLineage.yml#MyCustomJobFacet"}},"required":["_producer","_schemaURL"],"title":"BaseFacet"},{"type":"object","additionalProperties":true}],"title":"CustomFacet"},"title":"JobFacets"},"currentVersion":{"description":"The current version of the job.","type":"string","format":"uuid"}},"example":{"id":{"namespace":"my-namespace","name":"my-job"},"type":"BATCH","name":"my-job","createdAt":"2019-05-09T19:49:24.201361Z","updatedAt":"2019-05-09T19:49:24.201361Z","namespace":"my-namespace","inputs":[{"namespace":"my-namespace","name":"my-dataset"}],"outputs":[],"location":"https://github.com/my-jobs/blob/124f6089ad4c5fcbb1d7b33cbb5d3a9521c5d32c","context":{"SQL":"SELECT * FROM mytable;"},"description":"My first job!","latestRun":null,"facets":{},"currentVersion":"b1d626a2-6d3a-475e-9ecf-943176d4a8c6"},"title":"Job"}}},"oneOf":[{"type":"object","properties":{"id":{"type":"object","description":"The ID of the dataset.","properties":{"namespace":{"type":"string","description":"The namespace of the dataset."},"name":{"type":"string","description":"The name of the dataset."}},"title":"DatasetId"},"type":{"description":"The type of the dataset.","type":"string"},"name":{"description":"The **logical** name of the dataset.","type":"string"},"physicalName":{"description":"The **physical** name of the dataset.","type":"string"},"createdAt":{"description":"An [ISO-8601](https://en.wikipedia.org/wiki/ISO_8601) timestamp representing the date/time the dataset was created.","type":"string","format":"date-time"},"updatedAt":{"description":"An [ISO-8601](https://en.wikipedia.org/wiki/ISO_8601) timestamp representing the date/time the dataset was updated.","type":"string","format":"date-time"},"namespace":{"type":"string","description":"The namespace of the dataset."},"sourceName":{"description":"The name of the source associated with the dataset.","type":"string"},"fields":{"description":"The fields of the dataset.","type":"array","items":{"type":"object","properties":{"name":{"description":"The name of the field.","type":"string"},"type":{"description":"The data type of the field.","type":"string"},"tags":{"description":"List of tags.","type":"array","items":{"type":"string"}},"description":{"description":"The description of the field.","type":"string"}},"required":["name","type"]}},"tags":{"description":"List of tags.","type":"array","items":{"type":"string"}},"lastModifiedAt":{"description":"An [ISO-8601](https://en.wikipedia.org/wiki/ISO_8601) timestamp representing the date/time the dataset was last modified by a successful run.","type":"string","format":"date-time"},"lastLifecycleState":{"description":"The last lifecycle state of the dataset.","type":"string"},"description":{"description":"The description of the dataset.","type":"string"},"facets":{"description":"The facets of the dataset. For a full list of standard dataset facets, see [OpenLineage](https://github.com/OpenLineage/OpenLineage/blob/main/spec/OpenLineage.md#standard-facets).","type":"object","additionalProperties":{"description":"A custom facet enables the extension of _dataset_, _job_, and _run_ metadata. A custom facet **must** also have a schema, where a version of the schema is identifiable via a URL. A field within the schema **must** not start with an underscore (`_`).","allOf":[{"description":"All base facet fields are prefixed with an underscore (`_`) to avoid field naming conflicts defined with other facets.","type":"object","properties":{"_producer":{"description":"URI identifying the producer of this metadata. For example this could be a git url with a given tag or sha","type":"string","format":"uri","example":"https://github.com/OpenLineage/OpenLineage/blob/v1-0-0/client"},"_schemaURL":{"description":"The URL to the corresponding version of the schema definition following a $ref URL Reference (see https://swagger.io/docs/specification/using-ref/)","type":"string","format":"uri","example":"https://github.com/OpenLineage/OpenLineage/blob/v1-0-0/spec/OpenLineage.yml#MyCustomJobFacet"}},"required":["_producer","_schemaURL"],"title":"BaseFacet"},{"type":"object","additionalProperties":true}],"title":"CustomFacet"},"title":"DatasetFacets"},"currentVersion":{"description":"The current version of the dataset.","type":"string","format":"uuid"},"deleted":{"description":"The deleted state of the dataset.","type":"boolean"}},"example":{"id":{"namespace":"my-namespace","name":"my-dataset"},"type":"DB_TABLE","name":"my-dataset","physicalName":"public.mytable","createdAt":"2019-05-09T19:49:24.201361Z","upodatedAt":"2019-05-09T19:49:24.201361Z","namespace":"my-namespace","sourceName":"my-source","fields":[{"name'":"a","type":"INTEGER","tags":[]},{"name'":"b","type":"TIMESTAMP","tags":[]},{"name'":"c","type":"INTEGER","tags":[]},{"name'":"d","type":"INTEGER","tags":[]}],"tags":[],"lastModifiedAt":null,"description":"My first dataset!","facets":{},"currentVersion":"b1d626a2-6d3a-475e-9ecf-943176d4a8c6"},"title":"Dataset"},{"type":"object","properties":{"id":{"description":"The ID of the job.","type":"object","properties":{"namespace":{"type":"string","description":"The namespace of the job."},"name":{"type":"string","description":"The name of the job."}},"title":"JobId"},"type":{"description":"The type of the job.","type":"string"},"name":{"description":"The name of the job.","type":"string"},"createdAt":{"description":"An [ISO-8601](https://en.wikipedia.org/wiki/ISO_8601) timestamp representing the date/time the job was created.","type":"string","format":"date-time"},"updatedAt":{"description":"An [ISO-8601](https://en.wikipedia.org/wiki/ISO_8601) timestamp representing the date/time the job was updated.","type":"string","format":"date-time"},"namespace":{"description":"The namespace of the job.","type":"string"},"inputs":{"description":"The set of **input** datasets.","type":"array","items":{"type":"object","description":"The ID of the dataset.","properties":{"namespace":{"type":"string","description":"The namespace of the dataset."},"name":{"type":"string","description":"The name of the dataset."}},"title":"DatasetId"},"uniqueItems":true},"outputs":{"description":"The set of **output** datasets.","type":"array","items":{"type":"object","description":"The ID of the dataset.","properties":{"namespace":{"type":"string","description":"The namespace of the dataset."},"name":{"type":"string","description":"The name of the dataset."}},"title":"DatasetId"},"uniqueItems":true},"location":{"description":"The URL of the job source code or artifact.","type":"string","format":"URL"},"context":{"description":"A key/value pair that must be of type `string`. A context can be used for getting additional details about the job.","type":"object","deprecated":true},"description":{"description":"The description of the job.","type":"string"},"latestRun":{"type":"object","anyOf":[{"type":"object","properties":{"id":{"description":"The ID of the run.","type":"string","format":"uuid"},"createdAt":{"description":"An [ISO-8601](https://en.wikipedia.org/wiki/ISO_8601) timestamp representing the date/time the run was created.","type":"string","format":"date-time"},"updatedAt":{"description":"An [ISO-8601](https://en.wikipedia.org/wiki/ISO_8601) timestamp representing the date/time the run was updated.","type":"string","format":"date-time"},"nominalStartTime":{"description":"An [ISO-8601](https://en.wikipedia.org/wiki/ISO_8601) timestamp representing the nominal start time of the run.","type":"string","format":"date-time"},"nominalEndTime":{"description":"An [ISO-8601](https://en.wikipedia.org/wiki/ISO_8601) timestamp representing the nominal end time of the run.","type":"string","format":"date-time"},"state":{"description":"The current state of the run.","type":"string","enum":["NEW","RUNNING","COMPLETED","FAILED","ABORTED"]},"startedAt":{"description":"An [ISO-8601](https://en.wikipedia.org/wiki/ISO_8601) timestamp representing the start time of the run.","type":"string","format":"date-time"},"endedAt":{"description":"An [ISO-8601](https://en.wikipedia.org/wiki/ISO_8601) timestamp representing the end time of the run.","type":"string","format":"date-time"},"durationMs":{"type":"integer","description":"The total duration of the run. Measured in milliseconds."},"args":{"description":"The arguments of the run.","type":"object"},"facets":{"description":"The facets of the run. For a full list of standard run facets, see [OpenLineage](https://github.com/OpenLineage/OpenLineage/blob/main/spec/OpenLineage.md#standard-facets).","type":"object","additionalProperties":{"description":"A custom facet enables the extension of _dataset_, _job_, and _run_ metadata. A custom facet **must** also have a schema, where a version of the schema is identifiable via a URL. A field within the schema **must** not start with an underscore (`_`).","allOf":[{"description":"All base facet fields are prefixed with an underscore (`_`) to avoid field naming conflicts defined with other facets.","type":"object","properties":{"_producer":{"description":"URI identifying the producer of this metadata. For example this could be a git url with a given tag or sha","type":"string","format":"uri","example":"https://github.com/OpenLineage/OpenLineage/blob/v1-0-0/client"},"_schemaURL":{"description":"The URL to the corresponding version of the schema definition following a $ref URL Reference (see https://swagger.io/docs/specification/using-ref/)","type":"string","format":"uri","example":"https://github.com/OpenLineage/OpenLineage/blob/v1-0-0/spec/OpenLineage.yml#MyCustomJobFacet"}},"required":["_producer","_schemaURL"],"title":"BaseFacet"},{"type":"object","additionalProperties":true}],"title":"CustomFacet"},"title":"RunFacets"}},"example":{"id":"870492da-ecfb-4be0-91b9-9a89ddd3db90","createdAt":"2019-05-09T19:49:24.201361Z","updatedAt":"2019-05-09T19:49:24.201361Z","nominalStartTime":null,"nominalEndTime":null,"state":"RUNNING","startedAt":"2019-05-09T15:17:32.690346","endedAt":null,"durationMs":null,"args":{"email":"me@example.com","emailOnFailure":"false","emailOnRetry":"true","retries":"1"},"facets":{}},"title":"IncompleteRun"},{"type":"object","properties":{"jobVersion":{"type":"object","properties":{"namespace":{"type":"string","description":"The namespace of the job."},"name":{"type":"string","description":"The name of the job."},"version":{"type":"string","format":"uuid","description":"The version of the job."}},"title":"JobVersionId"},"inputDatasetVersions":{"type":"array","items":{"type":"object","properties":{"datasetVersionId":{"type":"object","properties":{"namespace":{"type":"string","description":"The namespace of the dataset."},"name":{"type":"string","description":"The name of the dataset."},"version":{"type":"string","format":"uuid","description":"The version of the dataset."}},"required":["namespace","name","version"],"title":"DatasetVersionId"},"facets":{"type":"object","additionalProperties":{"type":"string"},"description":"Dataset facets in run context, like `inputFacets`."}},"required":["datasetVersionId","facets"],"title":"InputDatasetVersion"}},"outputDatasetVersions":{"type":"array","items":{"type":"object","properties":{"datasetVersionId":{"type":"object","properties":{"namespace":{"type":"string","description":"The namespace of the dataset."},"name":{"type":"string","description":"The name of the dataset."},"version":{"type":"string","format":"uuid","description":"The version of the dataset."}},"required":["namespace","name","version"],"title":"DatasetVersionId"},"facets":{"type":"object","additionalProperties":{"type":"string"},"description":"Dataset facets in run context, like `outputFacets`."}},"required":["datasetVersionId","facets"],"title":"OutputDatasetVersion"}},"context":{"description":"A key/value pair that must be of type `string`. A context can be used for getting additional details about the job.","type":"object","deprecated":true},"facets":{"description":"The facets of the run. For a full list of standard run facets, see [OpenLineage](https://github.com/OpenLineage/OpenLineage/blob/main/spec/OpenLineage.md#standard-facets).","type":"object","additionalProperties":{"description":"A custom facet enables the extension of _dataset_, _job_, and _run_ metadata. A custom facet **must** also have a schema, where a version of the schema is identifiable via a URL. A field within the schema **must** not start with an underscore (`_`).","allOf":[{"description":"All base facet fields are prefixed with an underscore (`_`) to avoid field naming conflicts defined with other facets.","type":"object","properties":{"_producer":{"description":"URI identifying the producer of this metadata. For example this could be a git url with a given tag or sha","type":"string","format":"uri","example":"https://github.com/OpenLineage/OpenLineage/blob/v1-0-0/client"},"_schemaURL":{"description":"The URL to the corresponding version of the schema definition following a $ref URL Reference (see https://swagger.io/docs/specification/using-ref/)","type":"string","format":"uri","example":"https://github.com/OpenLineage/OpenLineage/blob/v1-0-0/spec/OpenLineage.yml#MyCustomJobFacet"}},"required":["_producer","_schemaURL"],"title":"BaseFacet"},{"type":"object","additionalProperties":true}],"title":"CustomFacet"},"title":"RunFacets"}}}],"example":{"id":"870492da-ecfb-4be0-91b9-9a89ddd3db90","createdAt":"2019-05-09T19:49:24.201361Z","updatedAt":"2019-05-09T19:49:24.201361Z","nominalStartTime":null,"nominalEndTime":null,"state":"COMPLETED","startedAt":"2019-05-09T15:17:32.690346","endedAt":"2019-05-09T20:05:46.815920Z","durationMs":4250894125,"args":{"email":"me@example.com","emailOnFailure":"false","emailOnRetry":"true","retries":"1"},"context":{"SQL":"SELECT * FROM mytable;"},"facets":{}},"title":"Run"},"facets":{"description":"The facets of the job. For a full list of standard job facets, see [OpenLineage](https://github.com/OpenLineage/OpenLineage/blob/main/spec/OpenLineage.md#standard-facets).","type":"object","additionalProperties":{"description":"A custom facet enables the extension of _dataset_, _job_, and _run_ metadata. A custom facet **must** also have a schema, where a version of the schema is identifiable via a URL. A field within the schema **must** not start with an underscore (`_`).","allOf":[{"description":"All base facet fields are prefixed with an underscore (`_`) to avoid field naming conflicts defined with other facets.","type":"object","properties":{"_producer":{"description":"URI identifying the producer of this metadata. For example this could be a git url with a given tag or sha","type":"string","format":"uri","example":"https://github.com/OpenLineage/OpenLineage/blob/v1-0-0/client"},"_schemaURL":{"description":"The URL to the corresponding version of the schema definition following a $ref URL Reference (see https://swagger.io/docs/specification/using-ref/)","type":"string","format":"uri","example":"https://github.com/OpenLineage/OpenLineage/blob/v1-0-0/spec/OpenLineage.yml#MyCustomJobFacet"}},"required":["_producer","_schemaURL"],"title":"BaseFacet"},{"type":"object","additionalProperties":true}],"title":"CustomFacet"},"title":"JobFacets"},"currentVersion":{"description":"The current version of the job.","type":"string","format":"uuid"}},"example":{"id":{"namespace":"my-namespace","name":"my-job"},"type":"BATCH","name":"my-job","createdAt":"2019-05-09T19:49:24.201361Z","updatedAt":"2019-05-09T19:49:24.201361Z","namespace":"my-namespace","inputs":[{"namespace":"my-namespace","name":"my-dataset"}],"outputs":[],"location":"https://github.com/my-jobs/blob/124f6089ad4c5fcbb1d7b33cbb5d3a9521c5d32c","context":{"SQL":"SELECT * FROM mytable;"},"description":"My first job!","latestRun":null,"facets":{},"currentVersion":"b1d626a2-6d3a-475e-9ecf-943176d4a8c6"},"title":"Job"}]},"inEdges":{"type":"array","description":"The in edges of the node.","items":{"type":"object","properties":{"origin":{"description":"The ID of the origin node.","type":"string"},"destination":{"description":"The ID of the destination node.","type":"string"}},"title":"GraphEdge"}},"outEdges":{"type":"array","description":"The out edges of the node.","items":{"type":"object","properties":{"origin":{"description":"The ID of the origin node.","type":"string"},"destination":{"description":"The ID of the destination node.","type":"string"}},"title":"GraphEdge"}}},"title":"GraphNode"}}},"title":"LineageGraph"}}}}},"description":"Get a column lineage graph","method":"get","path":"/column-lineage","servers":[{"url":"http://localhost:5000/api/v1","description":"Local API server"}],"info":{"title":"Marquez","version":"0.41.0-SNAPSHOT","description":"Marquez is an open source **metadata service** for the **collection**, **aggregation**, and **visualization** of a data ecosystem's metadata.","license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0.html"}},"postman":{"name":"Get a column lineage graph","description":{"type":"text/plain"},"url":{"path":["column-lineage"],"host":["{{baseUrl}}"],"query":[{"disabled":false,"description":{"content":"(Required) The ID of the node. A node can either be a dataset node, a dataset field node or a job node. The format of nodeId for dataset is `dataset:<namespace_of_dataset>:<name_of_the_dataset>`, for dataset field is `datasetField:<namespace_of_dataset>:<name_of_the_dataset>:<name_of_field>`, and for job is `job:<namespace_of_the_job>:<name_of_the_job>`.","type":"text/plain"},"key":"nodeId","value":""},{"disabled":false,"description":{"content":"Depth of lineage graph to create.","type":"text/plain"},"key":"depth","value":""},{"disabled":false,"description":{"content":"Determines if downstream lineage should be returned.","type":"text/plain"},"key":"withDownstream","value":""}],"variable":[]},"header":[{"key":"Accept","value":"application/json"}],"method":"GET"}}
sidebar_class_name: "get api-method"
info_path: docs/api/marquez
custom_edit_url: null
---

import ApiTabs from "@theme/ApiTabs";
import MimeTabs from "@theme/MimeTabs";
import ParamsItem from "@theme/ParamsItem";
import ResponseSamples from "@theme/ResponseSamples";
import SchemaItem from "@theme/SchemaItem";
import SchemaTabs from "@theme/SchemaTabs";
import DiscriminatorTabs from "@theme/DiscriminatorTabs";
import TabItem from "@theme/TabItem";

## Get a column lineage graph



Get a column lineage graph

<details style={{"marginBottom":"1rem"}} data-collapsed={false} open={true}><summary style={{}}><strong>Query Parameters</strong></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"nodeId","in":"query","schema":{"type":"string","example":"dataset:food_delivery:public.delivery_7_days"},"description":"The ID of the node. A node can either be a dataset node, a dataset field node or a job node. The format of nodeId for dataset is `dataset:<namespace_of_dataset>:<name_of_the_dataset>`, for dataset field is `datasetField:<namespace_of_dataset>:<name_of_the_dataset>:<name_of_field>`, and for job is `job:<namespace_of_the_job>:<name_of_the_job>`.","required":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"depth","in":"query","schema":{"type":"integer","default":20},"description":"Depth of lineage graph to create.","required":false}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"withDownstream","in":"query","schema":{"type":"boolean","default":false},"description":"Determines if downstream lineage should be returned.","required":false}}></ParamsItem></ul></div></details><div><ApiTabs><TabItem label={"200"} value={"200"}><div>

OK

</div><div><MimeTabs schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs><TabItem label={"Schema"} value={"Schema"}><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>graph</strong><span style={{"opacity":"0.6"}}> object[]</span></summary><div style={{"marginLeft":"1rem"}}><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem","paddingBottom":".5rem"}}>Array [</div></li><SchemaItem collapsible={false} name={"id"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"The ID of the node."}}></SchemaItem><SchemaItem collapsible={false} name={"type"} required={false} schemaName={"NodeType"} qualifierMessage={"**Possible values:** [`JOB`, `DATASET`]"} schema={{"type":"string","enum":["JOB","DATASET"],"description":"The type of the diff node.","title":"NodeType"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>data</strong><span style={{"opacity":"0.6"}}> object</span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

The data of the node.

</div></div><div><span className={"badge badge--info"}>oneOf</span><SchemaTabs><TabItem label={"object"} value={"0-property"}><p>object</p><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

The data of the node.

</div></TabItem><TabItem label={"object"} value={"1-property"}><p>object</p><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

The data of the node.

</div></TabItem></SchemaTabs></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>inEdges</strong><span style={{"opacity":"0.6"}}> object[]</span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

The in edges of the node.

</div><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem","paddingBottom":".5rem"}}>Array [</div></li><SchemaItem collapsible={false} name={"origin"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"The ID of the origin node.","type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"destination"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"The ID of the destination node.","type":"string"}}></SchemaItem><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem"}}>]</div></li></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>outEdges</strong><span style={{"opacity":"0.6"}}> object[]</span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

The out edges of the node.

</div><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem","paddingBottom":".5rem"}}>Array [</div></li><SchemaItem collapsible={false} name={"origin"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"The ID of the origin node.","type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"destination"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"The ID of the destination node.","type":"string"}}></SchemaItem><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem"}}>]</div></li></div></details></SchemaItem><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem"}}>]</div></li></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"graph\": [\n    {\n      \"id\": \"string\",\n      \"type\": \"JOB\",\n      \"data\": {\n        \"id\": {\n          \"namespace\": \"my-namespace\",\n          \"name\": \"my-dataset\"\n        },\n        \"type\": \"DB_TABLE\",\n        \"name\": \"my-dataset\",\n        \"physicalName\": \"public.mytable\",\n        \"createdAt\": \"2019-05-09T19:49:24.201361Z\",\n        \"upodatedAt\": \"2019-05-09T19:49:24.201361Z\",\n        \"namespace\": \"my-namespace\",\n        \"sourceName\": \"my-source\",\n        \"fields\": [\n          {\n            \"name'\": \"a\",\n            \"type\": \"INTEGER\",\n            \"tags\": []\n          },\n          {\n            \"name'\": \"b\",\n            \"type\": \"TIMESTAMP\",\n            \"tags\": []\n          },\n          {\n            \"name'\": \"c\",\n            \"type\": \"INTEGER\",\n            \"tags\": []\n          },\n          {\n            \"name'\": \"d\",\n            \"type\": \"INTEGER\",\n            \"tags\": []\n          }\n        ],\n        \"tags\": [],\n        \"lastModifiedAt\": null,\n        \"description\": \"My first dataset!\",\n        \"facets\": {},\n        \"currentVersion\": \"b1d626a2-6d3a-475e-9ecf-943176d4a8c6\"\n      },\n      \"inEdges\": [\n        {\n          \"origin\": \"string\",\n          \"destination\": \"string\"\n        }\n      ],\n      \"outEdges\": [\n        {\n          \"origin\": \"string\",\n          \"destination\": \"string\"\n        }\n      ]\n    }\n  ]\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div>
      